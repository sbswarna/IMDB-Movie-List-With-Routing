{"ast":null,"code":"var _jsxFileName = \"F:\\\\React\\\\class-16\\\\imdb\\\\src\\\\components\\\\movies.component.js\";\nimport React, { Component } from \"react\";\nimport Table from \"./common/table.component\";\nimport Rating from \"./rating.component\";\nimport getMovies from \"../service/get-movies.service\";\nimport _ from \"lodash\";\nimport Pagination from \"./common/pagination.component\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass Movies extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      movies: [],\n      sortColumn: {\n        path: \"id\",\n        order: \"asc\"\n      },\n      activePage: 1,\n      pageCount: 5\n    };\n\n    this.handleToggleRating = movieRank => {\n      const movies = [...this.state.movies];\n      const movie = movies.find(movie => movie.id === movieRank);\n      movie.your_rating = !movie.your_rating;\n      this.setState({ ...this.state,\n        movies\n      });\n    };\n\n    this.handleSort = sortColumn => {\n      this.setState({ ...this.state,\n        sortColumn\n      });\n    };\n\n    this.handleClickPage = activePage => {\n      this.setState({ ...this.state,\n        activePage\n      });\n    };\n\n    this.paginateMovies = movies => {\n      const {\n        activePage,\n        pageCount\n      } = this.state;\n      const start = (activePage - 1) * pageCount;\n      const paginatedMovies = movies.slice(start, start + pageCount);\n      return paginatedMovies;\n    };\n\n    this.sortMovies = movies => {\n      const {\n        sortColumn\n      } = this.state;\n\n      const sortedMovies = _.orderBy(movies, [sortColumn.path], [sortColumn.order]);\n\n      return sortedMovies;\n    };\n  }\n\n  componentDidMount() {\n    const movies = getMovies();\n    this.setState({ ...this.state,\n      movies\n    });\n  }\n\n  render() {\n    const paginatedMovies = this.paginateMovies(this.state.movies);\n    const movies = this.sortMovies(paginatedMovies);\n    const columns = [{\n      label: \"Rank\",\n      path: \"id\",\n      sorting: true,\n      content: (movie, key) => /*#__PURE__*/_jsxDEV(\"td\", {\n        children: movie[key]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 34\n      }, this)\n    }, {\n      label: \"Title\",\n      path: \"title\",\n      sorting: true,\n      content: (movie, key) => /*#__PURE__*/_jsxDEV(\"td\", {\n        children: movie[key]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 34\n      }, this)\n    }, {\n      label: \"Poster\",\n      path: \"posterUrl\",\n      content: (movie, key) => /*#__PURE__*/_jsxDEV(\"td\", {\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: movie[key],\n          style: {\n            height: \"100px\",\n            width: \"auto\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this)\n    }, {\n      label: \"Your Rating\",\n      path: \"your_rating\",\n      content: (movie, key) => /*#__PURE__*/_jsxDEV(\"td\", {\n        children: /*#__PURE__*/_jsxDEV(Rating, {\n          isRated: movie[key],\n          rank: movie.id,\n          handleToggleRating: this.handleToggleRating\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this)\n    }, {\n      label: \"Action\",\n      path: \"action\",\n      content: (movie, key) => /*#__PURE__*/_jsxDEV(\"td\", {\n        children: movie[key]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 34\n      }, this)\n    }];\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-2\",\n            children: /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"list-group\",\n              children: /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"list-group-item\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 7\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 6\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-8\",\n            children: [/*#__PURE__*/_jsxDEV(Table, {\n              items: movies,\n              columns: columns,\n              onSort: this.handleSort,\n              sortColumn: this.state.sortColumn\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 6\n            }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n              totalItems: this.state.movies.length,\n              pageCount: this.state.pageCount,\n              activePage: this.state.activePage,\n              onClickPage: this.handleClickPage\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 6\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 5\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 4\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 5\n      }, this)\n    }, void 0, false);\n  }\n\n}\n\nexport default Movies;","map":{"version":3,"sources":["F:/React/class-16/imdb/src/components/movies.component.js"],"names":["React","Component","Table","Rating","getMovies","_","Pagination","Movies","state","movies","sortColumn","path","order","activePage","pageCount","handleToggleRating","movieRank","movie","find","id","your_rating","setState","handleSort","handleClickPage","paginateMovies","start","paginatedMovies","slice","sortMovies","sortedMovies","orderBy","componentDidMount","render","columns","label","sorting","content","key","height","width","length"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport Table from \"./common/table.component\";\r\nimport Rating from \"./rating.component\";\r\nimport getMovies from \"../service/get-movies.service\";\r\nimport _ from \"lodash\";\r\nimport Pagination from \"./common/pagination.component\";\r\n\r\nclass Movies extends React.Component {\r\n  state = {\r\n    movies: [],\r\n    sortColumn: { path: \"id\", order: \"asc\" },\r\n\tactivePage: 1,\r\n\tpageCount: 5\r\n  };\r\n\r\n  componentDidMount() {\r\n    const movies = getMovies();\r\n    this.setState({ ...this.state, movies });\r\n  }\r\n\r\n  handleToggleRating = (movieRank) => {\r\n    const movies = [...this.state.movies];\r\n    const movie = movies.find((movie) => movie.id === movieRank);\r\n    movie.your_rating = !movie.your_rating;\r\n    this.setState({ ...this.state, movies });\r\n  };\r\n\r\n  handleSort = (sortColumn) => {\r\n    this.setState({ ...this.state, sortColumn });\r\n  };\r\n\r\n  handleClickPage = (activePage) => {\r\n\t  this.setState({ ...this.state, activePage })\r\n  }\r\n\r\n  paginateMovies = (movies) => {\r\n\tconst { activePage, pageCount } = this.state;\r\n\tconst start = (activePage - 1) * pageCount;\r\n\tconst paginatedMovies = movies.slice(start, start + pageCount);\r\n\treturn paginatedMovies;\r\n  }\r\n\r\n  sortMovies = (movies) => {\r\n    const { sortColumn } = this.state;\r\n    const sortedMovies = _.orderBy(\r\n      movies,\r\n      [sortColumn.path],\r\n      [sortColumn.order]\r\n    );\r\n    return sortedMovies;\r\n  };\r\n\r\n  render() {\r\n\tconst paginatedMovies = this.paginateMovies(this.state.movies);\r\n    const movies = this.sortMovies(paginatedMovies);\r\n    const columns = [\r\n      {\r\n        label: \"Rank\",\r\n        path: \"id\",\r\n        sorting: true,\r\n        content: (movie, key) => <td>{movie[key]}</td>,\r\n      },\r\n      {\r\n        label: \"Title\",\r\n        path: \"title\",\r\n        sorting: true,\r\n        content: (movie, key) => <td>{movie[key]}</td>,\r\n      },\r\n      {\r\n        label: \"Poster\",\r\n        path: \"posterUrl\",\r\n        content: (movie, key) => (\r\n          <td>\r\n            <img src={movie[key]} style={{ height: \"100px\", width: \"auto\" }} />\r\n          </td>\r\n        ),\r\n      },\r\n      {\r\n        label: \"Your Rating\",\r\n        path: \"your_rating\",\r\n        content: (movie, key) => (\r\n          <td>\r\n            <Rating\r\n              isRated={movie[key]}\r\n              rank={movie.id}\r\n              handleToggleRating={this.handleToggleRating}\r\n            />\r\n          </td>\r\n        ),\r\n      },\r\n      {\r\n        label: \"Action\",\r\n        path: \"action\",\r\n        content: (movie, key) => <td>{movie[key]}</td>,\r\n      },\r\n    ];\r\n    return (\r\n      <>\r\n\t  \t<div className=\"container\">\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"col-lg-2\">\r\n\t\t\t\t\t<ul className=\"list-group\">\r\n\t\t\t\t\t\t<li className=\"list-group-item\">\r\n\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-lg-8\">\r\n\t\t\t\t\t<Table\r\n\t\t\t\t\t\titems={movies}\r\n\t\t\t\t\t\tcolumns={columns}\r\n\t\t\t\t\t\tonSort={this.handleSort}\r\n\t\t\t\t\t\tsortColumn={this.state.sortColumn}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Pagination totalItems={this.state.movies.length} pageCount={this.state.pageCount} activePage={this.state.activePage} onClickPage={this.handleClickPage}/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Movies;\r\n"]},"metadata":{},"sourceType":"module"}