{"ast":null,"code":"var _jsxFileName = \"F:\\\\React\\\\class-16\\\\imdb\\\\src\\\\components\\\\movies.component.js\";\nimport React, { Component } from \"react\";\nimport Table from \"./common/table.component\";\nimport Rating from \"./rating.component\";\nimport getMovies from \"../service/get-movies.service\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass Movies extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      movies: [],\n      sortColumn: {\n        path: 'id',\n        order: 'asc'\n      }\n    };\n\n    this.handleToggleRating = movieRank => {\n      const movies = [...this.state.movies];\n      const movie = movies.find(movie => movie.id === movieRank);\n      movie.your_rating = !movie.your_rating;\n      this.setState({\n        movies\n      });\n    };\n\n    this.handleSort = sortColumn => {\n      this.setState({ ...this.state,\n        sortColumn\n      });\n    };\n  }\n\n  componentDidMount() {\n    const movies = getMovies();\n    this.setState({\n      movies\n    });\n  }\n\n  render() {\n    const columns = [{\n      label: 'Rank',\n      path: 'id',\n      content: (movie, key) => /*#__PURE__*/_jsxDEV(\"td\", {\n        children: movie[key]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 35\n      }, this)\n    }, {\n      label: 'Title',\n      path: 'title',\n      content: (movie, key) => /*#__PURE__*/_jsxDEV(\"td\", {\n        children: movie[key]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 34\n      }, this)\n    }, {\n      label: 'Poster',\n      path: 'posterUrl',\n      content: (movie, key) => /*#__PURE__*/_jsxDEV(\"td\", {\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: movie[key],\n          style: {\n            height: \"100px\",\n            width: \"auto\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 39\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 35\n      }, this)\n    }, {\n      label: 'Your Rating',\n      path: 'your_rating',\n      content: (movie, key) => /*#__PURE__*/_jsxDEV(\"td\", {\n        children: /*#__PURE__*/_jsxDEV(Rating, {\n          isRated: movie[key],\n          rank: movie.id,\n          handleToggleRating: this.handleToggleRating\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 39\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 35\n      }, this)\n    }, {\n      label: 'Action',\n      path: 'action',\n      content: (movie, key) => /*#__PURE__*/_jsxDEV(\"td\", {\n        children: movie[key]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 35\n      }, this)\n    }];\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        data: this.state.movies,\n        columns: columns,\n        onSort: this.handleSort,\n        sortColumn: this.state.sortColumn\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  }\n\n}\n\nexport default Movies;","map":{"version":3,"sources":["F:/React/class-16/imdb/src/components/movies.component.js"],"names":["React","Component","Table","Rating","getMovies","Movies","state","movies","sortColumn","path","order","handleToggleRating","movieRank","movie","find","id","your_rating","setState","handleSort","componentDidMount","render","columns","label","content","key","height","width"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport Table from \"./common/table.component\";\r\nimport Rating from \"./rating.component\";\r\nimport getMovies from \"../service/get-movies.service\";\r\n\r\nclass Movies extends React.Component {\r\n    state = {\r\n        movies: [],\r\n        sortColumn: {path: 'id', order: 'asc'}        \r\n    }\r\n\r\n    componentDidMount() {\r\n      const movies = getMovies();\r\n      this.setState({ movies });\r\n    }\r\n\r\n    handleToggleRating = movieRank => {\r\n      const movies = [...this.state.movies];\r\n      const movie = movies.find(movie => movie.id === movieRank)\r\n      movie.your_rating = !(movie.your_rating);\r\n      this.setState({ movies });\r\n    }\r\n\r\n    handleSort = (sortColumn) => {\r\n      this.setState({...this.state, sortColumn})\r\n    }\r\n\r\n  render() {\r\n    const columns = [\r\n        {\r\n          label: 'Rank', \r\n          path: 'id', \r\n          content: (movie,key) => <td>{movie[key]}</td> \r\n        },\r\n        {\r\n          label: 'Title', \r\n          path: 'title', \r\n          content:(movie,key) => <td>{movie[key]}</td> \r\n        },\r\n        {\r\n          label: 'Poster', \r\n          path: 'posterUrl', \r\n          content: (movie,key) => <td><img src={movie[key]} style={{ height: \"100px\", width: \"auto\" }}/></td> \r\n        },\r\n        {\r\n          label: 'Your Rating', \r\n          path: 'your_rating', \r\n          content: (movie,key) => <td><Rating \r\n                                        isRated={movie[key]} \r\n                                        rank={movie.id} \r\n                                        handleToggleRating={this.handleToggleRating}/>\r\n                                  </td> },\r\n        {\r\n          label: 'Action', \r\n          path: 'action', \r\n          content: (movie,key) => <td>{movie[key]}</td> \r\n        }\r\n    ]\r\n    return (\r\n      <>\r\n        <Table data={this.state.movies} columns={columns} onSort={this.handleSort} sortColumn={this.state.sortColumn}/>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Movies;\r\n"]},"metadata":{},"sourceType":"module"}